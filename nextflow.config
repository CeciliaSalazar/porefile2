
profiles {

	standard {
		process.executor = 'local'
		process.container = "shub://iferres/long16S"
		singularity.enabled = true
		singularity.autoMounts = false
		singularity.runOptions = "-B /mnt"
        	report.enabled = true
	}

	nagual {
		process.executor = 'slurm'
		process.container = "shub://iferres/long16S"
		singularity.enabled = true
		singularity.autoMounts = false
		singularity.runOptions = "-B /mnt/ubi"
	}

	gcp {
		docker.enabled = true
		process {
			executor = "google-lifesciences"
			container = ""
			errorStrategy = { task.exitStatus==14 ? 'retry' : 'terminate'}
			maxRetries = 3
		}
		google {
			project = "project-id"
			region = "us-central1"
			lifesciences.preemptible = true
		}
	}

}

process{
	withLabel: small_cpus {
		cpus = 1
	}
	withLabel: small_mem {
		memory = 4.Gb
	}
	withLabel: big_cpus {
		cpus = 8
	}
	withLabel: big_mem {
		memory = 32.Gb
	}
}
